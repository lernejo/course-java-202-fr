<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="Loïc Ledoyen">
<title>Java 202 - Librairies &amp; Frameworks</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Java 202 - Librairies &amp; Frameworks</h1>
<div class="details">
<span id="author" class="author">Loïc Ledoyen</span><br>
<span id="email" class="email"><a href="mailto:loic.ledoyen@gmail.com">loic.ledoyen@gmail.com</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Java 202</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_rappels_sur_les_outils">1. Rappels sur les outils</a>
<ul class="sectlevel2">
<li><a href="#_git">1.1. Git</a></li>
<li><a href="#_concepts_utilisés_par_git">1.2. Concepts utilisés par Git</a></li>
<li><a href="#_maven">1.3. Maven</a></li>
<li><a href="#_junit">1.4. JUnit</a></li>
</ul>
</li>
<li><a href="#_fonctionnement_des_frameworks">2. Fonctionnement des frameworks</a>
<ul class="sectlevel2">
<li><a href="#_compile_time">2.1. Compile-time</a></li>
<li><a href="#_runtime">2.2. Runtime</a></li>
</ul>
</li>
<li><a href="#_gestion_des_logs">3. Gestion des logs</a>
<ul class="sectlevel2">
<li><a href="#_slf4j">3.1. SLF4J</a></li>
</ul>
</li>
<li><a href="#_intégrations">4. Intégrations</a></li>
<li><a href="#_api_design">5. API design</a></li>
<li><a href="#_key_takeaway_points_on_production">6. Key takeaway points on Production</a>
<ul class="sectlevel2">
<li><a href="#_12_factors">6.1. 12 factors</a></li>
<li><a href="#_deployment_automation_risk_reduction_etc_include_debate_on_golden_image">6.2. deployment (automation, risk reduction, etc.) (include debate on golden image ?)</a></li>
<li><a href="#_log_centralisation">6.3. log centralisation</a></li>
<li><a href="#_supervision">6.4. supervision</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>vast ecosystem, blabla, lots of libs to choose among, blabla, just tools, blabla, quality come from how we use them.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_rappels_sur_les_outils">1. Rappels sur les outils</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_git">1.1. Git</h3>
<div class="paragraph">
<p>Git est un SCM (<strong>S</strong>ource <strong>C</strong>ode <strong>M</strong>anagement tool) décentralisé.</p>
</div>
<div class="paragraph">
<p>On étend par décentralisé le fait qu’il peut y avoir plusieurs instances d’un même dépôt sur des serveurs différents.<br>
Typiquement, dans le monde de l’open-source, quand un individu externe à l’organisation souhaite contribuer au code d’un dépôt, il en fait une copie, travaille sur sa copie, puis propose le code de sa copie pour intégration sur le dépôt <em>officiel</em>.</p>
</div>
<div class="paragraph">
<p>Git est aujourd’hui très répandu, mais fait suite historiquement à d’autres SCMs (CVS, SVN, Mercurial, etc.).<br>
Tous ces outils fonctionnent par différentiel (patch) pour permettre de restaurer une version précédente, ou encore de travailler sur une version parallèle qui pourra plus tard être réincorporée dans la version principale.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://raw.githubusercontent.com/lernejo/course-java-201-fr/main/images/git_sample.png" alt="git sample">
</div>
</div>
<div class="paragraph">
<p>Voici le vocabulaire consacré :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>commit</strong> : une révision / version contenant des modifications de code</p>
</li>
<li>
<p><strong>branch</strong> : un fil de modification, une suite de révisions</p>
</li>
<li>
<p><strong>tag</strong> : alias pour une version spécifique, souvent utilisé pour marquer une version applicative (1.0.25 par exemple)</p>
</li>
<li>
<p><strong>merge</strong> : fusion d’une branche dans une autre</p>
</li>
<li>
<p><strong>checkout</strong> : récupérer le code d’un serveur distant dans une version spécifique</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_quelques_commandes_utiles">1.1.1. Quelques commandes utiles</h4>
<div class="ulist">
<ul>
<li>
<p>Initialiser un dépôt</p>
<div class="ulist">
<ul>
<li>
<p><code>git clone &lt;url&gt;</code> : copie un dépôt distant existant en local</p>
</li>
<li>
<p>Ou <code>git init</code> : transforme le dossier courant en dépôt local. Un dépôt distant pourra être indiqué par la suite avec <code>git remote add origin &lt;url&gt;</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Mettre à jour</p>
<div class="ulist">
<ul>
<li>
<p><code>git fetch --all --prune</code> : récupère les changements du dépôt distant</p>
</li>
<li>
<p><code>git pull</code> : fusionne les changements distants avec les fichiers locaux</p>
</li>
<li>
<p><code>git rebase origin/&lt;current-branch&gt;</code> : déplace les commits locaux après ceux ayant été poussés sur le dépôt distant (et sur la même branche)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Changer de branche</p>
<div class="ulist">
<ul>
<li>
<p><code>git checkout &lt;branch&gt;</code> : positionne les sources courantes sur la dernière version de <code>&lt;branch&gt;</code></p>
</li>
<li>
<p><code>git branch -b &lt;branch&gt;</code> : crée une branche de nom <code>&lt;branch&gt;</code> dont le point de départ est le commit courant</p>
</li>
</ul>
</div>
</li>
<li>
<p>Observer les changements</p>
<div class="ulist">
<ul>
<li>
<p><code>git status</code> : affiche les différences entre les dépôts local et distant</p>
</li>
<li>
<p><code>git log --oneline -n 15</code> : affiche les 15 derniers commits de la branche courante (avec leurs hash)</p>
</li>
<li>
<p><code>git diff --stat</code> : affiche un résumé des changements</p>
</li>
<li>
<p><code>git diff --word-diff=color &lt;file&gt;</code> : affiche les changements effectués sur le fichier <code>&lt;file&gt;</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Apporter des changements</p>
<div class="ulist">
<ul>
<li>
<p><code>git add &lt;file&gt;</code> : ajoute le fichier <code>&lt;file&gt;</code> à l’<em>index</em></p>
</li>
<li>
<p><code>git add .</code> : ajoute tous les fichiers modifiés à l’<em>index</em> (traverse les répertoires)</p>
</li>
<li>
<p><code>git reset &lt;file&gt;</code> : enlève le fichier <code>&lt;file&gt;</code> de l’<em>index</em></p>
</li>
<li>
<p><code>git commit -m "&lt;title&gt;"</code> : crée un commit avec toutes les modifications dans l’<em>index</em> avec le titre <code>&lt;title&gt;</code></p>
</li>
<li>
<p><code>git commit --fixup &lt;hash&gt;</code> : crée un commit de correction d’un commit existant de hash <code>&lt;hash&gt;</code> avec toutes les modifications dans l’<em>index</em></p>
</li>
<li>
<p><code>git rebase -i --autosquash &lt;hash&gt;</code> : initie un rebase interactif et déplace et marque les commits de correction pour les fusionner, jusqu’au commit de hash <code>&lt;hash&gt;</code> exclu</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source : <a href="https://git-scm.com/docs" class="bare">https://git-scm.com/docs</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_pour_les_utilisateurs_de_windows">1.1.2. Pour les utilisateurs de Windows</h4>
<div class="paragraph">
<p>Git est sensible au bit d’execution des fichiers (<code>chmod +x</code>).<br>
<strong>Windows</strong> ne gérant pas de la même façon les permissions sur les fichiers qu’Unix, il est recommandé de désactiver cette sensibilité avec <code>git config core.fileMode false</code><br>
Pour expliciter le fait qu’un fichier soit executable : <code>git update-index --chmod=+x &lt;file&gt;</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_concepts_utilisés_par_git">1.2. Concepts utilisés par Git</h3>
<div class="paragraph">
<p>On appelle <strong>remotes</strong> les serveurs distants configurés sur une copie locale.<br>
Le remote par défaut est appelé <strong>origin</strong>.<br>
Dans le cas où le dépôt a été cloné (et non initialisé) <strong>origin</strong> pointe sur l’url utilisée lors du <em>clone</em>.</p>
</div>
<div class="paragraph">
<p>Git utilise une base de données (répertoire <strong>.git</strong>) qui contient l’arbre de toutes les modifications de chaque branche.<br>
Celle-ci contient également la version des différents remotes.<br>
Les branches en question sont accessibles avec le nom : <strong>&lt;remote_name&gt;/&lt;branch_name&gt;</strong>.<br>
Par exemple <strong>origin/main</strong> est la branche <strong>main</strong> telle que le serveur <strong>origin</strong> la connaissait lors de la dernière synchronisation de la base de donnée.<br>
Il est tout à fait possible d’avoir une (et une seule) version locale et plusieurs versions distantes d’une même branche différente.<br>
Ce sera lors d’un push (envoi de l’historique local vers un remote) que ces versions deviendront les mêmes.</p>
</div>
<div class="paragraph">
<p>La copie de travail (<strong>working copy</strong>) sont les fichiers contenus dans un dépôt local.<br>
Il est possible de les modifier, d’en ajouter ou d’en supprimer, sans modifier les versions connues par Git.<br>
Il sera, dans tous les cas, possible de revenir à une version connue par Git, grâce à la base de données.</p>
</div>
<div class="paragraph">
<p>Afin de considérer les modifications opérées sur la copie de travail pour être historisées (embarquées dans un <em>commit</em>), il est nécessaire de les indexer.<br>
L’<strong>index</strong> est l’espace accueillant les modifications qui seront comprises dans un commit.<br>
Il est possible d’y ajouter des éléments (ajout, suppression ou modification de fichier) avec la commande <code>add</code>.<br>
Y enlever des éléments se fait avec la commande <code>reset</code>.<br>
Enfin la commande <code>status</code> fait apparaître dans des couleurs différentes les changements qui sont indexés et ceux qui ne le sont pas.<br>
Par défaut les changements indexés sont en vert et les autres en rouge.<br>
Réaliser un <em>commit</em> (commande <code>commit</code>), embarquera toutes les modifications vertes.</p>
</div>
<div class="sect3">
<h4 id="_rebase">1.2.1. Rebase</h4>
<div class="paragraph">
<p>Une des fonctionnalités qui démarque Git de ses prédécesseurs est le <strong>rebase</strong>.</p>
</div>
<div class="paragraph">
<p>Le <strong>rebase</strong> peut être utilisé pour remettre à jour une branche quand la branche d’origine a changé.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">git fetch <span class="nt">--all</span> <span class="nt">--prune</span> # <b class="conum">(1)</b>
git log <span class="nt">--one-line</span> <span class="nt">-n</span> 10 # <b class="conum">(2)</b>
git rebase origin/main # <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Récupère la base de donnée du remote par défaut (<strong>origin</strong>) pour toutes les branches</p>
</li>
<li>
<p>Affiche les dix derniers commits de la branche courante</p>
</li>
<li>
<p>Modifie l’historique de la branche courante en mettant les commits réalisés après la base à la suite des derniers commits de la branche <code>main</code> telle qu’elle est connue par <strong>origin</strong></p>
</li>
</ol>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://raw.githubusercontent.com/lernejo/course-java-201-fr/main/images/git_rebase.png" alt="git rebase">
</div>
</div>
<div class="paragraph">
<p>Le <strong>rebase</strong> peut également être utilisé en mode <em><strong>interactif</strong></em> pour modifier son historique local :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ajouter des modifications dans un commit</p>
</li>
<li>
<p>Changer le nom d’un commit</p>
</li>
<li>
<p>Fusionner des commits</p>
</li>
<li>
<p>Supprimer des commits</p>
</li>
<li>
<p>Ré-ordonner des commits</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Conseil</div>
</td>
<td class="content">
Ne pas utiliser le rebase sur une branche partagée par plusieurs développeurs, et encore moins <code>main</code>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_maven">1.3. Maven</h3>
<div class="paragraph">
<p>Maven est un outil de construction de projet (Build Automation tool) autour de la JVM.</p>
</div>
<div class="paragraph">
<p>Il permet entre autre d’orchestrer :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Gestion des dépendances</p>
</li>
<li>
<p>Compilation des sources</p>
</li>
<li>
<p>Lancement des tests</p>
</li>
<li>
<p>Génération de la documentation</p>
</li>
<li>
<p>Assemblage des binaires</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Sa grande extensibilité lui permet de s’adapter à différents languages (Java, Scala, Kotlin, etc.) et à différents scénarios (intégration continue, génération de code, déploiement, etc.).</p>
</div>
<div class="sect3">
<h4 id="_structure_dun_projet">1.3.1. Structure d’un projet</h4>
<div class="paragraph">
<p>Maven propose de baser l’organisation d’un projet sur des conventions (nommage, structure des répertoires, etc.) plutôt que sur de la configuration pure comme ses prédécesseurs (Make, Ant, etc. ).</p>
</div>
<div class="paragraph">
<p>Cette structure est composée de</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Un fichier pom.xml qui contient toutes les informations nécessaires à Maven pour construire le projet. Sa structure minimale est la suivante</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Listing 1. Fichier pom.xml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xsi:schemaLocation=</span><span class="s">"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"</span>
         <span class="na">xmlns=</span><span class="s">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>

    <span class="nt">&lt;groupId&gt;</span>com.mycompany<span class="nt">&lt;/groupId&gt;</span> &lt;!--<b class="conum">(1)</b>--&gt;
    <span class="nt">&lt;artifactId&gt;</span>my-app<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>

    <span class="nt">&lt;properties&gt;</span> &lt;!--<b class="conum">(2)</b>--&gt;
        <span class="nt">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.build.sourceEncoding&gt;</span>
        <span class="nt">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.reporting.outputEncoding&gt;</span>
        <span class="nt">&lt;maven.compiler.source&gt;</span>17<span class="nt">&lt;/maven.compiler.source&gt;</span>
        <span class="nt">&lt;maven.compiler.target&gt;</span>17<span class="nt">&lt;/maven.compiler.target&gt;</span>
    <span class="nt">&lt;/properties&gt;</span>
<span class="nt">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Le triplet <code>groupId</code>, <code>artifactId</code> et <code>version</code> sont les coordonnées qui identifient un projet Maven et permettent des dépendances avec d’autres</p>
</li>
<li>
<p>Section optionnelle, permettant de fixer l’encodage et la version de Java utilisée pour éviter des conflits par la suite</p>
</li>
</ol>
</div>
<div class="ulist">
<ul>
<li>
<p>Un répertoire <strong>src</strong> qui contiendra tous les fichiers que l’on souhaite conserver dans le SCM</p>
<div class="ulist">
<ul>
<li>
<p>Dans <strong>src</strong> on retrouve deux répertoires : <strong>main</strong> et <strong>test</strong> qui contiennent respectivement le code de production, et le code de test (code qui ne sera pas inclus dans les binaires produits lors de la phase de <strong><em>packaging</em></strong>)</p>
<div class="ulist">
<ul>
<li>
<p>Dans ces deux répertoires, on trouve un répertoire du nom du langage utilisé, dans cet exemple, <strong>java</strong></p>
<div class="ulist">
<ul>
<li>
<p>Enfin dans ce<strong>s</strong> répertoire<strong>s</strong> <strong>java</strong> (ou <strong>groovy</strong>, etc.), on retrouve le code. Ce code est organisé en packages, eux-mêmes étant constitués de répertoires</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://raw.githubusercontent.com/lernejo/course-java-201-fr/main/images/maven_structure.png" alt="maven structure">
</div>
<div class="title">Figure 1. Structure d’un projet Maven</div>
</div>
</div>
<div class="sect3">
<h4 id="_cycle_de_vie_dun_projet_maven">1.3.2. Cycle de vie d’un projet Maven</h4>
<div class="paragraph">
<p>Par défaut Maven utilise un cycle de vie permettant à la grande majorité des projets d’être construit avec peu de configuration.</p>
</div>
<div class="paragraph">
<p>Les principales <strong>phases</strong> sont :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>clean</strong> : nettoie les fichiers compilés ou générés</p>
</li>
<li>
<p><strong>compile</strong> : compile les sources <em>principales (main)</em></p>
</li>
<li>
<p><strong>test-compile</strong> : compile les sources de <em>test</em></p>
</li>
<li>
<p><strong>test</strong> : lance les tests</p>
</li>
<li>
<p><strong>package</strong> : construit le binaire (<strong>jar</strong> par défaut)</p>
</li>
<li>
<p><strong>install</strong> : place le binaire dans le dépôt Maven local</p>
</li>
<li>
<p><strong>deploy</strong> : place le binaire dans un dépôt Maven distant</p>
</li>
<li>
<p><strong>site</strong> : génère la documentation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Chaque phase est associable à un ou plusieurs <strong>plugins</strong>, ce qui rend Maven très extensible.</p>
</div>
<div class="paragraph">
<p>Voici les associations par défaut :</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://raw.githubusercontent.com/lernejo/course-java-201-fr/main/images/maven_circle.png" alt="maven circle">
</div>
</div>
<div class="paragraph">
<p>Des plugins sont fournis directement par Maven, comme le <strong>maven-clean-plugin</strong>, qui supprime les fichiers compilés et générés.</p>
</div>
<div class="paragraph">
<p>D’autres sont créés par la communauté sans voir besoin de modifier l’outil. Par exemple :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>cukedoctor-maven-plugin</strong> : produit une version HTML du résultat des tests Cucumber</p>
</li>
<li>
<p><strong>sonar-maven-plugin</strong> : analyse le code avec différents outils (PMD, Checkstyle, JaCoCo, etc.) et publie les résultats vers un serveur Sonar</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source : <a href="https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html" class="bare">https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_balises_de_configuration">1.3.3. Balises de configuration</h4>
<div class="paragraph">
<p>Toutes les balises doivent être contenues dans le bloc <code>&lt;project&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Dans les balises notables, on retrouve :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>properties</code> : cette balise contient des propriétés (clé et valeur) qui peuvent être utilisées par la suite, soit par convention par les plugins, soit explicitement avec  l’écriture <code>${my-property}</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;properties&gt;</span>
    <span class="nt">&lt;my-test-lib.version&gt;</span>1.2<span class="nt">&lt;/my-test-lib.version&gt;</span>
<span class="nt">&lt;/properties&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dependencies</code> : cette balise contient toutes les dépendances d’un projet sur d’autres (internes, externes, frameworks, bibliothèques, etc.)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;dependencies&gt;</span>
    <span class="nt">&lt;dependency&gt;</span> &lt;!--<b class="conum">(1)</b>--&gt;
        <span class="nt">&lt;groupId&gt;</span>com.mycompany<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>my-lib<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.45.3<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.mycompany<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>my-test-lib<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>${my-test-lib.version}<span class="nt">&lt;/version&gt;</span> &lt;!--<b class="conum">(2)</b>--&gt;
        <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span> &lt;!--<b class="conum">(3)</b>--&gt;
    <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Le bloc <code>dependencies</code> est constitué de blocs <code>dependency</code> (singulier), chacun contenant les coordonnées d’une dépendance</p>
</li>
<li>
<p>La valeur de la version fait référence à la propriété <code>my-test-lib.version</code>, donc <code>1.2</code></p>
</li>
<li>
<p>Ce second bloc est indiqué avec le <strong><em>scope</em></strong> <code>test</code>, cette dépendance ne sera donc disponible que pour le code de test</p>
</li>
</ol>
</div>
<div class="ulist">
<ul>
<li>
<p><code>build/plugins</code> : cette balise contient tous les plugins utilisés par le projet ainsi que leurs configurations</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin&gt;</span> &lt;!--<b class="conum">(1)</b>--&gt;
            <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span> &lt;!--<b class="conum">(2)</b>--&gt;
            <span class="nt">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>2.22.2<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;configuration&gt;</span> &lt;!--<b class="conum">(3)</b>--&gt;
                <span class="nt">&lt;failIfNoTests&gt;</span>true<span class="nt">&lt;/failIfNoTests&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
<span class="nt">&lt;/build&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>À l’instar de la balise <code>dependencies</code>, la balise <code>plugins</code> contient des blocs de <code>plugin</code> (singulier)</p>
</li>
<li>
<p>Ici c’est le plugin <code>maven-surefire-plugin</code> qui est utilisé. Il s’agit du plugin par défaut pour lancer les tests. Un plugin est un projet Maven, et à ce titre est référencé grâce à ses coordonnées (<code>groupId</code>, <code>artifactId</code> et <code>version</code>) comme pour les dépendances</p>
</li>
<li>
<p>La balise configuration permet de modifier le comportement du plugin, ici le plugin va faire échouer le build si aucun test n’est trouvé</p>
</li>
</ol>
</div>
<div class="ulist">
<ul>
<li>
<p><code>profiles</code> : cette balise permet d’ajouter des pans de configuration qui sont désactivables. Un profil peut ajouter des <code>properties</code>, des <code>dependencies</code>, des <code>plugins</code> et même des <code>modules</code> (utilisés pour les projets multi-modules)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;profiles&gt;</span>
    <span class="nt">&lt;profile&gt;</span>
        <span class="nt">&lt;id&gt;</span>disable-tests<span class="nt">&lt;/id&gt;</span> &lt;!--<b class="conum">(1)</b>--&gt;
        <span class="nt">&lt;properties&gt;</span>
            <span class="nt">&lt;maven.test.skip&gt;</span>true<span class="nt">&lt;/maven.test.skip&gt;</span>
        <span class="nt">&lt;/properties&gt;</span>
    <span class="nt">&lt;/profile&gt;</span>
<span class="nt">&lt;/profiles&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Balise obligatoire, un profil doit avoir un <code>id</code>, ce qui permet de l’activer en ligne de commande, par exemple : <code>mvn install -P disable-tests</code></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_junit">1.4. JUnit</h3>
<div class="paragraph">
<p>Java ne propose pas dans le JDK d’outils pour construire et exécuter des tests.</p>
</div>
<div class="paragraph">
<p>Maven propose un répertoire de source, des phases (compilation &amp; exécution) et un scope pour gérer ce code qui n’est pas destiné à la production.<br>
Cependant, Maven ne fourni pas directement d’outil pour déclarer ou exécuter ces tests.</p>
</div>
<div class="paragraph">
<p>C’est là qu’entrent en jeu les frameworks de tests.<br>
Il en existe plusieurs, et JUnit est aujourd’hui le plus répandu.</p>
</div>
<div class="sect3">
<h4 id="_utilisation_de_lapi_de_junit_jupiter">1.4.1. Utilisation de l’API de JUnit-Jupiter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">class</span> <span class="nc">CalculatorTest</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Calculator</span> <span class="n">calculator</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Calculator</span><span class="o">();</span>

    <span class="nd">@Test</span> // <b class="conum">(1)</b>
    <span class="kt">void</span> <span class="nf">simple_division</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">calculator</span><span class="o">.</span><span class="na">divide</span><span class="o">(</span><span class="mi">8</span><span class="o">).</span><span class="na">by</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span> // <b class="conum">(2)</b>

        <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">(</span><span class="n">result</span><span class="o">)</span> // <b class="conum">(3)</b>
            <span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s">"division of 8 by 2"</span><span class="o">)</span>
            <span class="o">.</span><span class="na">isEqualTo</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span> // <b class="conum">(4)</b>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kt">void</span> <span class="nf">division_by_zero_should_throw</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertThatExceptionOfType</span><span class="o">(</span><span class="nc">IllegalArgumentException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> // <b class="conum">(5)</b>
            <span class="o">.</span><span class="na">isThrownBy</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="n">calculator</span><span class="o">.</span><span class="na">divide</span><span class="o">(</span><span class="mi">3</span><span class="o">).</span><span class="na">by</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span> // <b class="conum">(6)</b>
            <span class="o">.</span><span class="na">withMessage</span><span class="o">(</span><span class="s">"Cannot divide by zero"</span><span class="o">);</span> // <b class="conum">(7)</b>
    <span class="o">}</span>

    <span class="nd">@ParameterizedTest</span> // <b class="conum">(8)</b>
    <span class="nd">@CsvSource</span><span class="o">({</span>
        <span class="s">"0, 3, 3"</span><span class="o">,</span>
        <span class="s">"3, 4, 7"</span>
    <span class="o">})</span> // <b class="conum">(9)</b>
    <span class="kt">void</span> <span class="nf">addition_cases</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">,</span> <span class="kt">int</span> <span class="n">expectedResult</span><span class="o">)</span> <span class="o">{</span> // <b class="conum">(10)</b>
        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">calculator</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">a</span><span class="o">).</span><span class="na">and</span><span class="o">(</span><span class="n">b</span><span class="o">);</span>

        <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">(</span><span class="n">result</span><span class="o">)</span> // <b class="conum">(3)</b>
            <span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s">"addition of "</span> <span class="o">+</span> <span class="n">a</span> <span class="o">+</span> <span class="s">" and "</span> <span class="o">+</span> <span class="n">b</span><span class="o">)</span>
            <span class="o">.</span><span class="na">isEqualTo</span><span class="o">(</span><span class="n">expectedResult</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Méthode identifiée comme un test car marquée avec l’annotation <code>org.junit.jupiter.api.Test</code></p>
</li>
<li>
<p>Élément déclencheur, du code de production est exécuté</p>
</li>
<li>
<p>On vérifie le résultat du code de production (ici avec la bibliothèque <strong>AssertJ</strong>)</p>
</li>
<li>
<p>Ces trois lignes forme une seule expression, le compilateur ne tenant pas compte des sauts de ligne. Ce genre d’écriture est appelé <strong>fluent interface</strong> et repose sur des appels consécutifs de méthodes de sorte à former des phrases. Ici littéralement : vérifie que la variable <code>result</code> en tant que "division of 8 by 2" est égal à 4</p>
</li>
<li>
<p>Type différent de vérification, ici on vérifie qu’une erreur est produite, le test sera non passant si aucune erreur n’est produite ou si le type de l’erreur est différent de celui indiqué</p>
</li>
<li>
<p>Une fonction est passée à l’API de vérification, elle sera exécutée par la bibliothèque, dans un bloc <code>try / catch</code></p>
</li>
<li>
<p>Vérification du message de l’erreur, si le message ne correspond pas, le test sera non passant</p>
</li>
<li>
<p>Méthode identifiée comme un test paramétré, elle sera exécutée autant de fois qu’il y a de jeux de données. La méthode dans cet exemple sera exécutée 2 fois.</p>
</li>
<li>
<p>Le jeu de donnée, ici passé comme un CSV (Comma Separated Values), d’autres sources de données sont possibles.</p>
</li>
<li>
<p>La méthode prend donc des paramètres dont le nombre correspond aux données dans les jeux de données. L’ordre des paramètres doit correspondre à l’ordre des données.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_comment_junit_fonctionne_avec_maven">1.4.2. Comment JUnit fonctionne avec Maven</h4>
<div class="paragraph">
<p><strong>JUnit-Jupiter</strong> défini plusieurs choses :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Une API pour déclarer une méthode comme étant un test (<code>@Test</code>, etc.)</p>
</li>
<li>
<p>Un moteur d’exécution qui sait détecter les tests et les lancer</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>JUnit fourni également un lanceur de moteur(s) d’exécution : <strong>junit-platform-launcher</strong></p>
</div>
<div class="paragraph">
<p>Enfin, le plugin <strong>maven-surefire-plugin</strong> "sait" se connecter (entre autres) à ce <em>launcher</em> (depuis la version 2.22.0).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Pour résumer :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>La phase <strong>test</strong> de Maven est associé au plugin <strong>maven-surefire-plugin</strong></p>
</li>
<li>
<p>Ce plugin peut lancer <strong>junit-platform-launcher</strong> (si cette bibliothèque est présente sur le classpath)</p>
</li>
<li>
<p>Ce <em>launcher</em> peut lancer les moteurs d’exécutions construits avec l’API de moteur d’exécution <strong>junit-platform-engine</strong>, notamment <strong>JUnit-Jupiter</strong></p>
</li>
<li>
<p><strong>JUnit-Jupiter</strong> sait détecter et lancer les tests déclarés avec son API</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_un_peu_dhistoire">1.4.3. Un peu d’histoire</h4>
<div class="paragraph">
<p>JUnit est un vieux framework (1997) et celui-ci a beaucoup évolué au fil des versions de Java.<br>
La version 4, arrivée en 2006 (après Java 1.5) a longtemps été utilisée, du fait de la simplicité d’écriture apportée par le support des annotations (<code>@Test</code>).<br>
En 2015, une campagne de financement participatif est lancée pour créer JUnit<strong>5</strong>, une réécriture totale du framework.</p>
</div>
<div class="paragraph">
<p>Le constat de l’équipe est que le côté monolithique qui a jusque-là prévalu, a amené des dérives dans l’API du framework, qui est à la fois permissive et très complexe.</p>
</div>
<div class="paragraph">
<p>En effet, si le point de départ d’un test est conventionnellement une méthode, des plugins voient le jour pour changer ce paradigme (Cucumber, etc.), où un test peut-être un paragraphe dans un fichier texte.</p>
</div>
<div class="paragraph">
<p>Par ailleurs, même s’il existe plusieurs points d’extension dans cette version 4, le plus utilisé est le <code>Runner</code>, qui a le défaut de ne pas être composable.<br>
Cela demande aux équipes fournissant des plugins de fournir des outils qui fonctionnent depuis plusieurs points d’extensions (<code>Runner</code>, <code>Rule</code>, initialisation dans une méthode de <code>setUp</code>, etc.) pour contourner ce défaut</p>
</div>
<div class="paragraph">
<p>L’équipe de JUnit5 estime que chaque paradigme devrait avoir sa propre API et son propre moteur d’exécution, pour que le code soit plus spécifique, et donc plus simple.</p>
</div>
<div class="paragraph">
<p>L’architecture résultante est la suivante :</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://raw.githubusercontent.com/lernejo/course-java-201-fr/main/images/junit5_architecture.png" alt="junit5 architecture">
</div>
</div>
<div class="paragraph">
<p><strong>JUnit-platform</strong> est un framework pour construire (et lancer) des moteurs d’exécutions.</p>
</div>
<div class="paragraph">
<p><strong>JUnit-Vintage</strong> est un moteur d’exécution qui est compatible avec l’API de JUnit4.</p>
</div>
<div class="paragraph">
<p><strong>JUnit-Jupiter</strong> est le moteur d’exécution d’une nouvelle API qui profite (entre autres) de points d’extension multiples et composables.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_fonctionnement_des_frameworks">2. Fonctionnement des frameworks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>bla bla</p>
</div>
<div class="sect2">
<h3 id="_compile_time">2.1. Compile-time</h3>
<div class="paragraph">
<p>APT, quarkus</p>
</div>
</div>
<div class="sect2">
<h3 id="_runtime">2.2. Runtime</h3>
<div class="paragraph">
<p>Reflection, sample with Jackson</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gestion_des_logs">3. Gestion des logs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>blabla sur les nombreuses libs de log</p>
</div>
<div class="sect2">
<h3 id="_slf4j">3.1. SLF4J</h3>
<div class="paragraph">
<p>API, bridges, concrete impl</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_intégrations">4. Intégrations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>blabla sur la non-exhaustivité</p>
</div>
<div class="paragraph">
<p>dessin type archi hexa avec un panel des technologies "classiques"</p>
</div>
<div class="ulist">
<ul>
<li>
<p>sync (HTTP/JSON, web-socket, rsocket),</p>
</li>
<li>
<p>async (Kafka, Rabbit, etc.)</p>
</li>
<li>
<p>SQL (postgresql, mysql, oracle)</p>
</li>
<li>
<p>no-sql (couch, cassandra, redis, hbase, neo4j, etc.)</p>
</li>
<li>
<p>index (ES)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Code sample ?</p>
</div>
<div class="paragraph">
<p>&#8658; TP amqp<br>
&#8658; TODO TP ES ?</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_api_design">5. API design</h2>
<div class="sectionbody">
<div class="paragraph">
<p>cf 201</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_key_takeaway_points_on_production">6. Key takeaway points on Production</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_12_factors">6.1. 12 factors</h3>

</div>
<div class="sect2">
<h3 id="_deployment_automation_risk_reduction_etc_include_debate_on_golden_image">6.2. deployment (automation, risk reduction, etc.) (include debate on golden image ?)</h3>

</div>
<div class="sect2">
<h3 id="_log_centralisation">6.3. log centralisation</h3>

</div>
<div class="sect2">
<h3 id="_supervision">6.4. supervision</h3>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>